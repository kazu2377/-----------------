<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãƒã‚¤ãƒšãƒ¼ã‚¸ | ç¤¾å†…ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ </title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="user-header">
    <span class="header-title">ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
    <span class="header-userinfo">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã€€æ¨©é™</span>
  </header>
  <div class="mypage-container">
    <aside class="mypage-sidebar">
      <div class="profile-box">
        <div class="image-box"><img src="https://randomuser.me/api/portraits/men/32.jpg" alt="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ" style="width:100%;height:100%;object-fit:cover;border-radius:4px;"></div>
        <div class="nickname">å±±ç”° å¤ªéƒ</div>
      </div>
      <div class="profile-info">
        <div class="profile-label">æƒ…å ±</div>
        <div>å–¶æ¥­éƒ¨</div>
        <div>ä¸»ä»»</div>
        <div>03-1234-5678</div>
      </div>
      <div class="sidebar-menu">
        <a href="mypage.html" style="text-decoration:none;color:inherit;"><div>ãƒã‚¤ãƒšãƒ¼ã‚¸</div></a>
        <a href="board.html" style="text-decoration:none;color:inherit;"><div>æ²ç¤ºæ¿</div></a>
        <a href="application_list.html" style="text-decoration:none;color:inherit;"><div>æ›¸é¡ç”³è«‹</div></a>
        <a href="user_search.html" style="text-decoration:none;color:inherit;"><div>ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢</div></a>
        <a href="#" style="text-decoration:none;color:inherit;"><div>E-ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°</div></a>
        <a href="user_admin.html" style="text-decoration:none;color:inherit;"><div>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</div></a>
      </div>
    </aside>
    <main class="mypage-main">
      <section class="new-post-section">
        <div class="section-title">æ–°æŠ•ç¨¿å…¥åŠ›</div>
        <form id="newPostForm" enctype="multipart/form-data" style="display:flex;flex-direction:column;align-items:flex-start;gap:12px;">
          <label style="font-weight:bold;">å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</label>
          <div class="new-post-image image-box" id="newPostImagePreview" style="cursor:pointer;">
            <span id="newPostImageText">ã“ã“ã«å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
            <img id="newPostImageTag" src="" alt="" style="display:none;width:100%;height:100%;object-fit:cover;border-radius:4px;" />
          </div>
          <input type="file" id="newPostImageInput" accept="image/*" style="display:none;">
          <label style="font-weight:bold;">ã‚³ãƒ¡ãƒ³ãƒˆ</label>
          <textarea id="newPostComment" rows="2" style="width:300px;"></textarea>
          <button class="post-btn" type="submit">æŠ•ç¨¿</button>
        </form>
      </section>
      <section class="post-list-section">
        <div class="post-box">
          <div class="post-header">
            <div class="image-box post-user-image"><img src="https://randomuser.me/api/portraits/women/44.jpg" alt="æŠ•ç¨¿è€…ç”»åƒ" style="width:100%;height:100%;object-fit:cover;border-radius:4px;"></div>
            <span class="post-nickname"><b>ä½è—¤ èŠ±å­</b></span>
            <div class="post-actions">
              <button class="edit-btn">âœï¸</button>
              <button class="delete-btn">ğŸ—‘ï¸</button>
            </div>
          </div>
          <div class="post-content">
            ä»Šæ—¥ã¯ç¤¾å†…ã‚¤ãƒ™ãƒ³ãƒˆã®å†™çœŸã‚’ã‚·ã‚§ã‚¢ã—ã¾ã™ï¼
            <div class="post-image image-box"><img src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80" alt="æŠ•ç¨¿ç”»åƒ" style="width:100%;height:100%;object-fit:cover;border-radius:4px;"></div>
          </div>
          <div class="comment-list">
            <div class="comment-box">
              <div class="image-box comment-user-image"><img src="https://randomuser.me/api/portraits/men/65.jpg" alt="ã‚³ãƒ¡ãƒ³ãƒˆè€…ç”»åƒ" style="width:100%;height:100%;object-fit:cover;border-radius:4px;"></div>
              <span class="comment-nickname">ç”°ä¸­ ä¸€éƒ</span>
              <span class="comment-text">ç´ æ•µãªå†™çœŸã§ã™ã­ï¼</span>
              <button class="comment-delete">x</button>
            </div>
            <div class="comment-box">
              <div class="image-box comment-user-image"><img src="https://randomuser.me/api/portraits/women/12.jpg" alt="ã‚³ãƒ¡ãƒ³ãƒˆè€…ç”»åƒ" style="width:100%;height:100%;object-fit:cover;border-radius:4px;"></div>
              <span class="comment-nickname">éˆ´æœ¨ ã•ã‚†ã‚Š</span>
              <span class="comment-text">ã‚¤ãƒ™ãƒ³ãƒˆæ¥½ã—ã‹ã£ãŸã§ã™ï¼</span>
              <button class="comment-delete">x</button>
            </div>
            <div class="new-comment-section">
              <div>æ–°ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›</div>
              <textarea class="new-comment-text" rows="2" style="width:90%;margin:8px 0;"></textarea>
              <button class="comment-post-btn">æŠ•ç¨¿</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <footer>
    <small>CopyRight &copy; 2015-2020 G&T Inc. All Rights Reserved.</small>
  </footer>
  <script src="mypage.js"></script>
  <script>
    // æŠ•ç¨¿ãƒªã‚¹ãƒˆãƒ»ã‚³ãƒ¡ãƒ³ãƒˆãƒªã‚¹ãƒˆã®ãƒ€ãƒŸãƒ¼è¿½åŠ ç”¨
    document.getElementById('newPostForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const comment = document.getElementById('newPostComment').value;
      const postList = document.querySelector('.post-list-section');
      const postBox = document.createElement('div');
      postBox.className = 'post-box';
      postBox.innerHTML = `
        <div class="post-header">
          <div class="image-box post-user-image"><img src='https://randomuser.me/api/portraits/men/32.jpg' style='width:100%;height:100%;object-fit:cover;border-radius:4px;'></div>
          <span class="post-nickname"><b>å±±ç”° å¤ªéƒ</b></span>
          <div class="post-actions">
            <button class="edit-btn">âœï¸</button>
            <button class="delete-btn">ğŸ—‘ï¸</button>
          </div>
        </div>
        <div class="post-content">
          ${comment}
        </div>
        <div class="comment-list">
          <div class="new-comment-section">
            <div>æ–°ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›</div>
            <textarea class="new-comment-text" rows="2" style="width:90%;margin:8px 0;"></textarea>
            <button class="comment-post-btn">æŠ•ç¨¿</button>
          </div>
        </div>
      `;
      postList.prepend(postBox);
      document.getElementById('newPostComment').value = '';
    });

    // æ–°ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›ã®æŠ•ç¨¿ãƒœã‚¿ãƒ³
    document.addEventListener('click', function(e) {
      if (e.target && e.target.classList.contains('comment-post-btn')) {
        const commentSection = e.target.closest('.new-comment-section');
        const commentText = commentSection.querySelector('.new-comment-text').value;
        const commentList = commentSection.parentElement;
        const commentBox = document.createElement('div');
        commentBox.className = 'comment-box';
        commentBox.innerHTML = `
          <div class="image-box comment-user-image"><img src='https://randomuser.me/api/portraits/men/32.jpg' style='width:100%;height:100%;object-fit:cover;border-radius:4px;'></div>
          <span class="comment-nickname">å±±ç”° å¤ªéƒ</span>
          <span class="comment-text">${commentText}</span>
          <button class="comment-delete">x</button>
        `;
        commentList.insertBefore(commentBox, commentSection);
        commentSection.querySelector('.new-comment-text').value = '';
      }
    });
  </script>
</body>
</html> 